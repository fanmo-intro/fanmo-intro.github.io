---
---
/*
  main.scss — Entry point for Jekyll to compile your site's SCSS.
  IMPORTANT:
  - Place this file outside of _sass/ (e.g. assets/css/main.scss).
  - Keep the YAML front matter above (the --- markers) so Jekyll will compile it.
  - Reference the generated CSS in your layouts: <link rel="stylesheet" href="{{ '/assets/css/main.css' | relative_url }}">
*/

/* ========================
   Imports (partials live in _sass/)
   Files here are referenced by their partial name (without leading underscore)
   and will be resolved from _sass/ when Jekyll builds.
   ======================== */

@import
  "vendor/breakpoint/breakpoint",

  "themes",
  "theme/{{ site.site_theme | default: 'default' | append: '_light' }}",
  "theme/{{ site.site_theme | default: 'default' | append: '_dark' }}",

  "include/mixins",
  "vendor/susy/susy",

  "layout/reset",
  "layout/base",

  "include/utilities",
  "layout/tables",
  "layout/buttons",
  "layout/notices",
  "layout/masthead",
  "layout/navigation",
  "layout/footer",
  "syntax",

  "layout/forms",

  "layout/page",
  "layout/archive",
  "layout/sidebar",
  "layout/json_cv",

  "vendor/font-awesome/fontawesome",
  "vendor/font-awesome/solid",
  "vendor/font-awesome/brands",
  "custom";   /* ← keep this as the very last import */


/* =====================================================
   Custom Overrides
   ===================================================== */

/* Employers list styling */
.author__employers {
  margin: 0.25rem 0 0.75rem;
  padding: 0;
  list-style: none;
}

.author__employers li {
  display: flex;
  align-items: center;
  margin: 0.3rem 0;
  font-size: 0.95rem;
  line-height: 1.4;
}

.author__employers i {
  margin-right: 0.5rem;
  color: #444; /* you can change to theme variable if needed */
}

.author__employers a {
  color: inherit;
  text-decoration: none;
}

.author__employers a:hover {
  text-decoration: underline;
}

/* ===========================================
   BEGIN: Fix social / sidebar icons not clickable on desktop
   =========================================== */

/*
Rationale:
- Social links sometimes clickable on mobile but blocked on desktop because a cover/overlay
  element sits above the sidebar or images intercept pointer events.
- Defensive rules below:
  1) Ensure sidebar/social containers and anchors accept pointer events and sit above overlays.
  2) Make images inside links ignore pointer events so the anchor receives clicks.
  3) At desktop widths, common overlay selectors won't block pointer events.
*/

.sidebar,
.site-sidebar,
.author-profile,
.profile-social,
.author__urls,
.author__links,
.author__meta,
.social-icons,
.sidebar-social {
  position: relative !important;
  z-index: 9999 !important;
  pointer-events: auto !important;
}

/* Anchors must handle clicks; ensure they are on top */
.sidebar a,
.site-sidebar a,
.author-profile a,
.profile-social a,
.author__urls a,
.author__links a,
.author__meta a,
.social-icons a,
.sidebar-social a {
  position: relative !important;
  z-index: 10000 !important;
  pointer-events: auto !important;
}

/* Let images inside links not intercept pointer events so the <a> receives the click */
.sidebar img,
.site-sidebar img,
.author-profile img,
.profile-social img,
.author__urls img,
.author__links img,
.author__meta img,
.social-icons img,
.sidebar-social img {
  pointer-events: none !important;
}

/* Defensive: at desktop widths, common overlay/cover candidates should not block pointer events.
   Replace or narrow these selectors if you determine the exact overlay element in your theme. */
@media (min-width: 900px) {
  .overlay,
  .page-cover,
  .site-cover,
  .content-overlay,
  .sidebar-overlay,
  .page__content::before,
  .page__inner-wrap::after {
    pointer-events: none !important;
  }
}

/* Ensure main content wrapper doesn't unintentionally block interactions with the sidebar */
.page__content,
.page-wrap,
.wrapper,
.main {
  pointer-events: auto !important;
}

/* Optional debug helpers: uncomment to visualize clickable anchors during testing */
/*
.profile-social a:hover,
.author-profile a:hover,
.author__urls a:hover {
  outline: 2px solid rgba(0,0,0,0.06);
  outline-offset: 2px;
}
*/

/* END: Fix social / sidebar icons not clickable on desktop */
/* =========================================== */

/* =====================================================
   NEW: Sidebar social icons layout + spacing overrides
   Put these at the end so they override theme defaults.
   Adjust values (margin-top, gap, sizes) to taste.
   ===================================================== */

/* Container: center icons and add top spacing from affiliations */
.social-icons,
.sidebar-social {
  display: flex;
  justify-content: center;   /* center horizontally */
  align-items: center;
  gap: 0.7rem;               /* space between icons */
  margin-top: 1.5rem;        /* space above the icon row */
  padding: 0;                /* ensure no unexpected padding */
}

/* Icon links: uniform circular buttons */
.social-icons a,
.sidebar-social a {
  display: inline-flex;
  justify-content: center;
  align-items: center;
  width: 40px;
  height: 40px;
  line-height: 1;
  border-radius: 50%;
  text-align: center;
  font-size: 1.1rem;
  box-sizing: border-box;
  transition: transform 120ms ease, box-shadow 120ms ease;
}

/* Icon content (font-icon or svg) vertical alignment fix */
.social-icons a > svg,
.sidebar-social a > svg,
.social-icons a i,
.sidebar-social a i {
  display: inline-block;
  vertical-align: middle;
  height: 1em;
  width: 1em;
  line-height: 1;
}

/* Hover effect: subtle lift */
.social-icons a:hover,
.sidebar-social a:hover {
  transform: translateY(-3px);
  box-shadow: 0 6px 12px rgba(0,0,0,0.06);
}

/* Responsive tweaks: on small viewports, reduce size and allow wrapping */
@media (max-width: 480px) {
  .social-icons,
  .sidebar-social {
    gap: 0.45rem;
    margin-top: 1rem;
  }
  .social-icons a,
  .sidebar-social a {
    width: 34px;
    height: 34px;
    font-size: 1rem;
  }
}
/* =========================
   FORCE: widen left sidebar (high specificity & !important)
   Put this at the end of main.scss so it overrides earlier rules.
   Adjust numeric values if you want it even wider.
   ========================= */

/* Desktop/tablet preferred wide sidebar */
.page > .sidebar,
.page .sidebar,
.sidebar {
  /* Make sidebar much wider on desktop (min 520px, ideal 42vw, max 760px) */
  flex: 0 0 clamp(520px, 42vw, 760px) !important;
  max-width: clamp(520px, 42vw, 760px) !important;

  /* nudge left so the sidebar sits further left (visual tweak) */
  margin-left: -64px !important;

  /* padding so contents do not touch the edge */
  padding-left: 18px !important;
  padding-right: 18px !important;

  /* ensure it sits above any overlays */
  position: relative !important;
  z-index: 5 !important;
}



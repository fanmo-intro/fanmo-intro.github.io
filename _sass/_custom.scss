---
---
/* =========================
   Fan Mo — custom.scss (final, clean)
   ========================= */

/* ---------- Theme accents ---------- */
:root{
  --accent:#1d4ed8;
  --muted:#6b7280;
}

/* =========================
   Layout
   ========================= */
.page{
  display:flex; gap:2.5rem; align-items:flex-start; flex-wrap:wrap;
}
.sidebar{
  /* wide enough so "University of Cambridge" fits on one line */
  flex:0 0 clamp(340px, 28vw, 420px) !important;
  max-width:clamp(340px, 28vw, 420px) !important;
}
.page__content{
  flex:1 1 600px; min-width:0; max-width:1040px; margin:0 auto;
  text-align:justify; text-justify:inter-ideograph;
  line-height:1.75; font-size:1.05rem; color:#2b2b2b;
}
.page__content p{ margin-bottom:1.2em; }
.page__content p + p{ margin-top:.7rem; }
.page__content h1,
.page__content h2{
  color:var(--accent); font-weight:800;
  border-bottom:2px solid #eee; padding-bottom:.3em; margin-bottom:.8em;
}
.page__content h3{ color:#1f2937; font-weight:700; }
.page__content strong{ color:#1a73e8; font-weight:600; }

/* =========================
   Author card
   ========================= */
.author__avatar{ display:block; margin:0 auto 1rem auto; }
.author__avatar img{
  display:block; margin:0 auto; width:96px; height:96px;
  border-radius:50%; object-fit:cover;
}
.author__content h3.author__name{
  font-size:1.5rem !important; font-weight:700 !important; color:#111 !important;
  margin:.35rem 0 .5rem !important; text-align:center;
}
.author__content .author__bio{
  font-size:1rem !important; color:#333 !important; line-height:1.5 !important;
  margin:.4rem 0 .9rem !important; max-width:34ch; text-align:left !important;
}

/* =========================
   Institutions / meta list
   ========================= */
/* Base icon sizing (Font Awesome 5/6 safe) */
.author__urls i[class^="fa"], .author__urls i[class*=" fa"]{
  width:1em; text-align:center; margin-right:.4rem; line-height:1;
  color:#444; vertical-align:middle;
}

/* Make each row a single line (desktop), with ellipsis if too long */
.author__urls:not(.social-icons){
  list-style:none; padding:0; margin:.25rem 0 0 0;
}
.author__urls:not(.social-icons) li{
  display:flex !important; align-items:center !important; gap:.45rem;
  margin:.32rem 0 !important; max-width:100%;
  white-space:nowrap !important;        /* no wrap on desktop */
}
.author__urls:not(.social-icons) li a,
.author__urls:not(.social-icons) li span{
  color:#555; text-decoration:none; line-height:1.4;
  overflow:hidden; text-overflow:ellipsis; white-space:inherit;
}
.author__urls:not(.social-icons) li a:hover{ color:var(--accent); text-decoration:underline; }

/* =========================
   Social icons (icon-only pills)
   ========================= */
.author__urls-wrapper{ position:static !important; margin:.6rem 0 0 0 !important; }
.author__urls-wrapper::before,
.author__urls-wrapper::after,
.author__urls-wrapper .btn{ display:none !important; }

.author__urls.social-icons{
  display:flex; flex-wrap:wrap; gap:12px; justify-content:center;
  margin:10px 0 8px 0; padding:0; list-style:none;
}
.author__urls.social-icons li{ margin:0; padding:0; }
.author__urls.social-icons li a{
  display:inline-flex; align-items:center; justify-content:center;
  width:40px; height:40px; border-radius:50%;
  background:#f3f4f6; color:#444; border:none; box-shadow:none;
  transition:background .2s ease, color .2s ease;
  font-size:0 !important; overflow:hidden;   /* hide stray text nodes */
}
.author__urls.social-icons li a:hover{ background:var(--accent); color:#fff !important; }
.author__urls.social-icons li a i,
.author__urls.social-icons li a svg{
  font-size:18px !important; width:1em; height:1em; color:inherit !important; fill:currentColor !important;
}

/* =========================
   Mobile (≤ 768px)
   ========================= */
@media (max-width:768px){
  .sidebar{ flex:1 1 100% !important; max-width:100% !important; padding:0 1rem; }
  .page__content{ max-width:100%; padding:0 1rem; font-size:1rem; }

  .author__avatar img{ width:128px; height:128px; }
  .author__content{ text-align:center; }
  .author__content .author__bio{ text-align:center !important; max-width:100%; }

  /* allow wrapping on phones so long names don’t overflow */
  .author__urls:not(.social-icons) li{
    white-space:normal !important;
  }
}

/* =========================
   Small desktop tweaks
   ========================= */
@media (min-width:992px){
  .page{ gap:3rem; }
  /* tiny font squeeze to help long institution names fit */
  .author__urls:not(.social-icons) li a,
  .author__urls:not(.social-icons) li span{ font-size:.975rem; }
}

/* ===== Optional: hide the location row if present ===== */
/*
.author__urls li.author__desktop,
.author__urls li.location,
.author__urls li.author__location,
.author__urls li[itemprop="homeLocation"]{
  display:none !important;
}
*/

/* === Institutions keep ONE line, kill forced breaks === */
.author__urls:not(.social-icons) li br{
  display:none !important;                 /* 干掉硬换行 */
}
.author__urls:not(.social-icons) li{
  display:flex !important;
  align-items:center !important;
  gap:.45rem !important;
  margin:.32rem 0 !important;
}
.author__urls:not(.social-icons) li i{
  flex:0 0 auto;                           /* 图标不挤压文字 */
}
.author__urls:not(.social-icons) li a,
.author__urls:not(.social-icons) li span{
  display:inline-block !important;         /* 避免块级元素换行 */
  white-space:nowrap !important;           /* 不换行 */
  overflow:hidden !important;
  text-overflow:ellipsis !important;       /* 放不下就省略号 */
  max-width:100%;
  word-break:keep-all !important;
  hyphens:none !important;
}

/* 宽一点侧栏，防止刚好卡在边界还要省略号 */
@media (min-width:992px){
  .sidebar{ flex:0 0 360px !important; max-width:360px !important; }
}
@media (min-width:1280px){
  .sidebar{ flex-basis:380px !important; max-width:380px !important; }
}

/* --- Keep institution rows on ONE line (desktop), ellipsis if tight --- */
.author__urls:not(.social-icons) li{
  display:flex !important;
  align-items:center !important;
  gap:.45rem !important;
  margin:.32rem 0 !important;
}
.author__urls:not(.social-icons) li br{
  display:none !important;                 /* 防止模板里出现 <br> 时强制换行 */
}
.author__urls:not(.social-icons) li *{
  white-space:nowrap !important;           /* 不换行 */
  word-break:keep-all !important;
  hyphens:none !important;
}
.author__urls:not(.social-icons) li a,
.author__urls:not(.social-icons) li span{
  overflow:hidden !important;
  text-overflow:ellipsis !important;       /* 放不下就省略号 */
}

/* 给侧栏一点空间，让长机构名更容易单行显示 */
@media (min-width:992px){
  .sidebar{ flex:0 0 380px !important; max-width:380px !important; }
}
@media (min-width:1280px){
  .sidebar{ flex-basis:400px !important; max-width:400px !important; }
}

/* 手机上允许正常换行，避免被截断 */
@media (max-width:768px){
  .author__urls:not(.social-icons) li *{
    white-space:normal !important;
    text-overflow:clip !important;
  }
}



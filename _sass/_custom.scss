/* =========================
   Fan Mo — custom.scss (final, slim + working)
   ========================= */

/* ---------- Theme accents ---------- */
:root {
  --accent: #1d4ed8;  /* Tailwind blue-700 */
  --muted:  #6b7280;  /* gray for secondary text */
}

/* =========================
   Layout
   ========================= */
.page{
  display:flex; gap:2rem; align-items:flex-start; flex-wrap:wrap; /* wrap on smaller screens */
}
.sidebar{
  /* fluid width so the main column never gets crushed, wide enough for one-line items */
  flex:0 0 clamp(300px, 28vw, 420px) !important;
  max-width:clamp(300px, 28vw, 420px) !important;
}
.page__content{
  flex:1 1 600px; min-width:0;
  max-width:1040px; margin:0 auto;
  text-align:justify; text-justify:inter-ideograph;
  line-height:1.75; font-size:1.05rem; color:#2b2b2b;
}
.page__content p{ margin-bottom:1.2em; }
.page__content p + p{ margin-top:.7rem; }
.page__content h1,
.page__content h2{
  color:var(--accent); font-weight:800;
  border-bottom:2px solid #eee; padding-bottom:.3em; margin-bottom:.8em;
}
.page__content h3{ color:#1f2937; font-weight:700; }
.page__content strong{ color:#1a73e8; font-weight:600; }

/* =========================
   Author card
   ========================= */
.author__avatar{ margin:0 auto 1rem; display:block; }
.author__avatar img{
  width:96px; height:96px; border-radius:50%; object-fit:cover;
}
.author__content h3.author__name{
  font-size:1.5rem !important; font-weight:700 !important; color:#111 !important;
  margin:.35rem 0 .5rem !important; text-align:center;
}
.author__content .author__bio{
  font-size:1rem !important; font-weight:400 !important; color:#333 !important;
  line-height:1.5 !important; margin:.4rem 0 .9rem !important; text-align:left !important;
  max-width:34ch;
}

/* =========================
   Icon base (Font Awesome 5 & 6)
   ========================= */
.author__urls i[class^="fa"], .author__urls i[class*=" fa"]{
  display:inline-block; width:1.15em; text-align:center;
  margin-right:.45rem; line-height:1; vertical-align:middle; color:#444;
}
/* aliases across versions */
.author__urls i.fa-building-columns,
.author__urls i.fa-university,
.author__urls i.fas.fa-building-columns,
.author__urls i.fa-solid.fa-building-columns{ color:#444; }
.author__urls i.fa-location-dot,
.author__urls i.fa-map-marker-alt,
.author__urls i.fas.fa-map-marker-alt,
.author__urls i.fa-solid.fa-location-dot{ color:#444; }

/* =========================
   Location / institutions
   ========================= */
.author__urls li.author__desktop{
  font-size:1rem !important; color:#555 !important; line-height:1.4 !important;
  white-space:nowrap !important; margin:.3rem 0 !important; hyphens:none;
}
.author__urls:not(.social-icons) li,
.author__urls:not(.social-icons) li a{
  font-size:1rem !important; line-height:1.4 !important;
}
.author__urls:not(.social-icons) li{
  display:flex !important; align-items:flex-start !important; gap:.55rem;
  margin:.35rem 0 !important; white-space:nowrap !important; max-width:100% !important; hyphens:none;
}
.author__urls:not(.social-icons) li a{ color:#555; text-decoration:none; }
.author__urls:not(.social-icons) li a:hover{ color:var(--accent); text-decoration:underline; }

/* =========================
   Social icon buttons (icon-only)
   ========================= */
.author__urls-wrapper,
.sticky .author__urls-wrapper{
  position:static !important; opacity:1 !important; visibility:visible !important;
  transform:none !important; background:transparent !important; box-shadow:none !important;
  border:none !important; padding:0 !important; margin:.5rem 0 0 0 !important;
}
.author__urls.social-icons{
  display:flex; gap:12px; flex-wrap:wrap; margin-top:10px; padding:0; list-style:none;
  justify-content:center;
}
.author__urls.social-icons li{ margin:0; padding:0; list-style:none; }
/* Make them icon-only everywhere (no stray text on mobile) */
.author__urls.social-icons li a{
  display:inline-flex; justify-content:center; align-items:center;
  width:40px; height:40px; border-radius:50%;
  background:#f3f4f6; color:#444; border:none !important; box-shadow:none !important;
  transition:background .2s ease, color .2s ease;
  font-size:0 !important;                 /* hides any label text nodes */
  overflow:hidden;
}
.author__urls.social-icons li a:hover{ background:var(--accent); color:#fff !important; }
.author__urls.social-icons li a i,
.author__urls.social-icons li a svg{
  font-size:18px !important; width:1em; height:1em; color:inherit !important; fill:currentColor !important;
}
.author__urls.social-icons li a span{ display:none !important; }

/* =========================
   Mobile tweaks (<= 768px)
   ========================= */
@media (max-width:768px){
  /* Shared padding so avatar and name share the same center */
  .sidebar{ flex:1 1 100% !important; max-width:100% !important; padding:0 1rem; }
  .page__content{ max-width:100%; padding:0 1rem; font-size:1rem; }

  .author__content{ text-align:center; padding:0 !important; }
  .author__avatar{
    width:100%; margin:0 auto 1rem auto !important; padding:0 !important;
    display:flex; justify-content:center;
  }
  .author__avatar img{ width:128px; height:128px; margin:0 !important; }

  /* Inline institutions, keep icons visible, allow wrap */
  .author__urls:not(.social-icons){ text-align:center; }
  .author__urls:not(.social-icons) li{
    display:inline-flex !important; align-items:center !important;
    gap:.35rem; margin:0 .6rem .35rem .6rem !important;
    white-space:normal !important; /* allow wrap on phones */
  }
  .author__urls:not(.social-icons) li + li::before{
    content:"· "; color:#9ca3af; margin-right:.35rem;
  }

  /* Bigger touch targets for social icons */
  .author__urls.social-icons li a{ width:44px; height:44px; }
  .author__urls.social-icons li a i,
  .author__urls.social-icons li a svg{ font-size:20px !important; }
}
/* --- Hide location row in author card --- */
.author__urls li.author__desktop,
.author__urls li.location,
.author__urls li.author__location,
.author__urls li[itemprop="homeLocation"]{
  display:none !important;
}

/* Prevent a leading "·" when location is hidden on mobile */
@media (max-width:768px){
  .author__urls:not(.social-icons) li.author__desktop + li::before{
    content:none !important;
  }
}

/* Nudge main content a little to the right on desktop */
@media (min-width: 992px){
  .page{ gap: 3rem; }           /* was 2rem — increase the space */
}

/* Optional: tiny extra nudge if you want more */
@media (min-width: 1200px){
  .page__content{ padding-left: .5rem; }  /* adjust .25rem–.75rem to taste */
}

/* === Keep "University of Cambridge" on ONE line (desktop) === */
@media (min-width: 992px){
  /* give a little more room */
  .sidebar{
    flex:0 0 380px !important;
    max-width:380px !important;
  }
  /* squeeze spacing so long names fit */
  .author__urls:not(.social-icons) li{ gap:.4rem !important; }
  .author__urls i[class^="fa"], .author__urls i[class*=" fa"]{
    width:1em !important;          /* was 1.15em */
    margin-right:.35rem !important;
  }
  /* never wrap institution names */
  .author__urls:not(.social-icons) li a{
    white-space:nowrap !important;
    font-size:0.975rem;            /* tiny shrink to help it fit */
  }
}

/* If it STILL wraps on your screen, bump the width a touch more: 390–400px */
@media (min-width: 1280px){
  .sidebar{ flex-basis:400px !important; max-width:400px !important; }
}


/* =========================================
   Fan Mo — custom.scss (整理与移动端侧栏右移)
   ========================================= */

/* ---------- Theme accents & base ---------- */
:root {
  --accent: #2563eb;  /* primary blue */
  --muted:  #6b7280;
  --ink: #1f2937;
  --text: #2b2b2b;
  --line: #e5e7eb;
}

/* =========================
   Page layout (基础)
   ========================= */

/* 全局 page 布局：左右并排，默认较小 gap（可调整） */
html body .page,
body .page {
  display: flex !important;
  flex-wrap: nowrap !important;
  align-items: flex-start !important;
  gap: 12px !important;       /* 控制侧边栏与正文间距（调小或调大） */
  margin: 0 auto !important;
  padding: 0 4% !important;
  max-width: none !important;
  box-sizing: border-box !important;
}

/* 侧边栏固定宽度并靠左（去掉大的 left margin） */
.sidebar {
  flex: 0 0 250px !important;   /* 可调整为 220 / 240 / 260 */
  width: 250px !important;
  max-width: 250px !important;
  margin-left: 0 !important;
  padding-left: 18px !important;
  padding-right: 12px !important;
  box-sizing: border-box !important;
}

/* 正文：占据剩余空间，尽量靠近侧边栏 */
.page__content {
  flex: 1 1 auto !important;
  min-width: 0 !important;
  margin: 0 !important;
  padding-left: 8px !important;  /* 与侧边栏间的微小呼吸空间 */
  padding-right: 0 !important;
  box-sizing: border-box !important;
}

/* 如果页面有多余的内层容器，移除它们的默认 padding */
.page__inner-wrap,
.page__container,
.wrapper,
.main,
.content {
  max-width: none !important;
  padding-left: 0 !important;
  padding-right: 0 !important;
  margin-left: 0 !important;
  margin-right: 0 !important;
}

/* =========================
   版式与文字
   ========================= */

.page__content {
  max-width: 2540px;
  text-align: justify;
  text-justify: inter-ideograph;
  line-height: 1.75;
  font-size: 1.05rem;
  color: var(--text);
  box-sizing: border-box;
}

.page__content p { margin-bottom: 1.2em; }
.page__content p + p { margin-top: 0.7rem; }

.page__content h1,
.page__content h2 {
  color: var(--accent);
  font-weight: 800;
  border-bottom: 2px solid #eee;
  padding-bottom: .3em;
  margin-bottom: .8em;
}
.page__content h3 { color:#1f2937; font-weight:700; }
.page__content .zh { color:#374151; }
.page__content ul { margin: .5rem 0 .8rem 1.2rem; }
.page__content li { margin: .25rem 0; }
.page__content strong { color: #1a73e8; font-weight: 600; }

/* =========================
   Sidebar (author block)
   ========================= */

.sidebar .author__content {
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
  padding: 0 !important;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: .6rem;
  box-sizing: border-box;
}

.author__avatar {
  display: flex !important;
  justify-content: center !important;
  align-items: center !important;
  margin: 0 auto 12px auto !important;
  width: 140px !important;
  height: 140px !important;
  border-radius: 50% !important;
  overflow: hidden !important;
  -webkit-mask-image: -webkit-radial-gradient(white, black);
}

.author__avatar img {
  display: block !important;
  margin: 0 auto !important;
  width: 100% !important;
  height: 100% !important;
  max-width: 100%;
  border-radius: 50% !important;
  object-fit: cover !important;
  object-position: center center !important;
  box-shadow: 0 2px 6px rgba(0,0,0,0.06);
}

.author__content h3.author__name {
  font-size: 1.6rem !important;
  font-weight: 800 !important;
  color: var(--ink) !important;
  margin: .2rem 0 .25rem !important;
  text-align: center;
  width: 100%;
}

/* Bio left-aligned inside sidebar */
.author__content .author__bio {
  color: #374151 !important;
  font-size: 0.9rem !important;
  line-height: 1.6 !important;
  text-align: left !important;
  max-width: 100% !important;
  margin: 0 0 .4rem 0 !important;
  width: 100%;
}

/* employers + social icons simplified & robust */
.author__urls:not(.social-icons) { list-style:none; padding:0; margin: .6rem 0 0 0; width:100%; text-align:center; }
.author__urls:not(.social-icons) li { margin:6px 0; display:flex; align-items:center; justify-content:center; gap:10px; }
.author__urls:not(.social-icons) li .employer { display:inline-flex; align-items:center; padding:6px 10px; border-radius:10px; background:#f6f7fb; font-weight:500; font-size:.9rem; color:#374151; }

/* small icon buttons */
.author__urls.social-icons { display:flex; gap:10px; justify-content:center; padding:0; margin:.6rem 0 .9rem 0; }
.author__urls.social-icons li a { display:inline-flex; align-items:center; justify-content:center; width:42px; height:42px; border-radius:50%; background:#f6f7fb; transition:transform .15s ease,box-shadow .15s ease; text-decoration:none; color:inherit; }
.author__urls.social-icons li a svg { width:18px; height:18px; display:block; fill:currentColor; }

/* contact icons under name */
.author__contact-icons { display:flex; justify-content:center; gap:10px; margin-top:.25rem; margin-bottom:.4rem; }
.author__contact-icons a { display:inline-flex; align-items:center; justify-content:center; width:38px; height:38px; border-radius:50%; background:#f6f7fb; color:var(--ink); transition:transform .15s ease, box-shadow .15s ease; }
.author__contact-icons a svg { width:18px; height:18px; fill:currentColor; }

/* brand colours (保留) */
.author__urls.social-icons a[href^="mailto:"] { color:#fff !important; background:#d6336c !important; }
.author__urls.social-icons a[href*="scholar.google"] { color:#fff !important; background:#1a73e8 !important; }
.author__urls.social-icons a[href*="github.com"] { color:#fff !important; background:#24292e !important; }
.author__urls.social-icons a[href*="linkedin.com"] { color:#fff !important; background:#0a66c2 !important; }

/* =========================
   Media Queries
   ========================= */

/* ---------- Mobile: 调整侧边栏右移（防止头像贴左或被遮） ---------- */
@media (max-width: 768px) {
  /* 保持单列布局 */
  html body .page,
  body .page {
    display: block !important;
    gap: 0 !important;
    padding: 0 1rem !important;
  }

  /* 侧边栏改为满宽但内部左右留边，头像/文字不会贴左（即视觉上“右移”） */
  .sidebar {
    width: 100% !important;
    max-width: 100% !important;
    padding-left: 24px !important;   /* <-- 关键：增加左侧内边距，让内容右移 */
    padding-right: 24px !important;  /* 给右边也留点呼吸 */
    margin: 0 auto 14px auto !important;
    box-sizing: border-box !important;
  }

  /* 头像放大一点（可选） */
  .author__avatar img { width: 160px !important; height: 160px !important; }

  .page__content {
    max-width: 100%;
    padding: 0 1rem !important;
    font-size: 1rem;
  }

  .author__content h3.author__name { font-size: 2rem !important; }
  .author__content .author__bio { font-size: 1.05rem !important; text-align: left !important; max-width: 100% !important; }
  .author__urls:not(.social-icons) { margin: .65rem 0 0.25rem 0 !important; }
  .author__urls.social-icons { margin: .65rem 0 1.25rem 0 !important; }
  .sidebar { margin-bottom: 24px !important; }
}

/* ---------- Larger screens: 更紧凑（可自定义） ---------- */
@media (min-width: 769px) {
  html body .page,
  body .page { display: flex !important; gap: 12px !important; }
  .author__urls:not(.social-icons) li { justify-content:flex-start; }
  .author__urls.social-icons { justify-content:center; }
}

/* 更大屏时可以微调 gap */
@media (min-width: 992px) {
  html body .page,
  body .page {
    gap: 12px !important;
  }
}

/* Debug 辅助（开发时打开以定位问题） */
/* .body-debug .sidebar { outline: 2px dashed rgba(0,128,0,0.2); } */
/* .body-debug .page__content { outline: 2px dashed rgba(0,0,255,0.08); } */

